# CameraArrayTools 相机阵列工具插件

## 插件简介

CameraArrayTools是一个用于Unreal Engine的相机阵列管理插件，可以帮助用户快速创建和管理多个相机，并批量渲染图像。

## 安装说明

有两种方式可以使用此插件：

### 方式一：使用完整工程（推荐）

1. 解压提供的完整工程包
2. 请使用UE 5.3 + 的版本打开
3. 打开Content目录下的场景testScene

### 方式二：插件打包安装

1. 将插件文件夹拷贝到您的项目Plugins目录下
2. 启用插件并重启项目
3. 在场景中放置CameraArrayManager Actor使用插件功能

## 使用方法

### 1. 创建相机管理器

场景中已预置 `Camera Array Manager` 实体，可在场景中直接使用。您也可以在场景中放置新的CameraArrayManager Actor。

### 2. 参数配置

在 `Camera Array Manager` 的细节面板中，您可以配置以下参数：

#### 相机阵列设置

- **相机数量**: 要创建的相机总数（1-99）
- **总Y方向距离**: 相机在Y轴方向上分布的总距离（米）
- **起始位置**: 第一个相机的位置坐标（X, Y, Z）
- **统一旋转**: 当禁用LookAtTarget时，所有相机使用的统一旋转角度（Roll, Pitch, Yaw）
- **相机FOV**: 相机视野角度
- **输出宽度/高度**: 渲染输出图像的分辨率
- **格式**: 输出图像格式（PNG/JPEG/BMP/TGA/EXR）
- **输出路径**: 图像保存的相对路径，默认在Saved/RenderOutput文件夹下
- **覆盖已有**: 是否覆盖已存在的同名文件
- **相机前缀**: 输出文件的名称前缀
- **后处理引用**: 可选的后处理体积引用，用于同步 Path Tracing SPP 采样数，这个会影响渲染时长

#### 目标点设置

- **启用LookAtTarget**: 是否启用相机朝向目标功能
- **场景目标点**: 相机朝向的目标Actor

### 3. 操作功能

在细节面板底部提供了以下操作按钮：

#### 执行函数

- **创建或更新相机**: 根据设置参数创建或更新相机阵列
- **清除相机**: 删除所有已创建的相机
- **选择第一个相机**: 在编辑器中选择阵列中的第一个相机
- **选择最后一个相机**: 在编辑器中选择阵列中的最后一个相机
- **渲染第一个相机**
- **渲染最后一个相机**

#### 批处理

- **拍摄高清截图**: 通过Unreal Engine高清管线捕获视口内容（所有在视口中可见的效果都会被渲染）
- **打开输出文件夹**: 打开图像保存的目录

## 支持的图像格式

插件支持多种图像格式导出：

- PNG (8-bit)
- JPEG (8-bit)
- BMP (8-bit)
- TGA (8-bit)
- EXR (16-bit Float)

## 注意事项

- **必须保持Unreal Editor处于激活状态**：渲染时请勿操作其他应用程序或窗口，否则可能导致截图失败
- **禁止在渲染过程中进行编辑器操作**：包括但不限于修改场景、调整参数、打开其他面板等操作
- ⚠️ **Path Tracing渲染必要设置**：要渲染Path Tracing效果，必须在视口的视图模式中将渲染方式从Lit或其他模式改为Path Tracing。渲染结果会严格遵循视口当前的配置，否则将无法获得预期的Path Tracing效果。请确保Post Process Volume 被正确引用且在Post Process Volume 里设置了SPP采样数。
- 渲染过程中请勿关闭编辑器、切换关卡或最小化编辑器窗口
- 确保输出路径有足够的磁盘空间
- 大量高分辨率图像渲染可能需要较长时间
- 渲染进度会在细节面板的 "渲染进度" 和 "渲染状态" 中显示
- 为获得最佳性能，建议在渲染时关闭其他图形密集型应用程序

## 技术支持

如在使用过程中遇到问题，请联系开发团队获取技术支持。

Bingru Li

2025-08-15