# Unreal Engine 专业级相机阵列管理与渲染插件

**🎬 CameraArrayTools** 是一款专为 Unreal Engine 编辑器设计的强大效率工具，旨在将繁琐、重复的相机阵列创建与批量渲染工作流转变为一种快速、精确且自动化的流程。本插件是为建筑可视化艺术家、视觉特效师、游戏开发者以及任何需要从多角度精确捕捉场景的用户量身打造的终极解决方案。告别手动放置相机的低效与误差，通过一个统一的控制面板，即可生成、管理并渲染复杂的相机阵列。

## ✨ 核心功能

* **⚡️ 阵列生成与管理**: 生成一个由多达99个相机组成的阵列。完全参数化的控制方式允许您实时调整和预览，极大提升了布景效率。位置、距离、旋转到每个相机的视场角（FOV），所有关键参数都集中在一个直观的细节（Details）面板中进行管理。无需再逐个选择和调整相机，实现真正的集中式控制。 

* **🔍 微调单个相机**: 支持手动微调单个相机并记录到渲染结果中。 

* **🚀 一键批量渲染**: 只需单击一个按钮，即可从阵列中的每一个相机渲染高质量图像。节省数小时的重复性劳动。

* **👁️ 动态“朝向目标”功能**: 自动将阵列中的所有相机对准场景中的任意一个Actor。此功能非常适合用于创建引人注目的产品展示、建筑漫游动画序列和角色旋转展示。  

* **🎨 专业级图像格式支持**: 直接导出为行业标准的图像格式，包括PNG、JPEG、BMP、TGA，以及用于后期制作的16位高动态范围EXR格式，提供最大的灵活性。  

* **🎬 高清渲染管线**: 与 Unreal Engine的Movie Render Queue 管线一致。插件可以同步您的后期处理体积（Post Process Volume）设置，确保您的批量渲染成果与视口中的质量完全一致。

## 🚀 快速上手：安装与设置

> 先决条件: Unreal Engine 5.3 或更高版本。

### 方式一：使用完整工程（推荐用于快速评估）

此方法适用于希望在不影响自己项目的情况下快速体验插件功能的用户。

1. 下载并解压提供的完整工程包。  
2. 使用 Unreal Engine 5.3 或更高版本打开 .uproject 文件。  
3. 在内容浏览器中，打开 Content/testScene 关卡，查看已预设好的示例。

### 方式二：集成到您现有的项目

此方法适用于准备将插件集成到现有工作流中的专业用户。

1. 导航至您的Unreal Engine项目根目录。  
2. 如果不存在，请创建一个名为 Plugins 的文件夹。  
3. 将 CameraArrayTools 插件文件夹完整地复制到项目的 Plugins 目录下。  
4. 启动您的Unreal Engine项目。此时编辑器可能会提示您需要构建插件模块，请点击“是”（Yes）。  
5. 在编辑器中，前往 编辑 \> 插件 (Edit \> Plugins)。搜索 CameraArrayTools 并确保其已被启用。  
6. 根据提示重启编辑器。插件现已准备就绪。

## 📖 综合用户指南

### 1\. 放置相机阵列管理器

将CameraArrayManager 这个Actor 拖拽到您的场景中。所有相机阵列的控制都将通过这个Actor 的细节面板进行。

### 2\. 参数配置详解

选中场景中的 CameraArrayManager 后，您将在细节面板中看到以下参数。

| 参数组 | 设置 | 描述 | 备注 / 范围 |
| :---- | :---- | :---- | :---- |
| **相机阵列设置 (Camera Array Setup)** | 相机数量 (Camera Count) | 定义要在阵列中创建的相机总数。 | 1 \- 99 |
|  | 总Y方向距离 (Total Y-Distance) | 所有相机沿其局部Y轴分布的总距离（单位：米）。 | 例如：10.0 |
|  | 起始位置 (Start Position) | 阵列中第一个相机的世界空间坐标 (X, Y, Z)。 | 向量 (X,Y,Z) |
|  | 统一旋转 (Uniform Rotation) | 应用于所有相机的旋转角度 (Roll, Pitch, Yaw)。**仅在启用LookAtTarget被禁用时生效。** | 旋转体 (R,P,Y) |
| **相机属性 (Camera Properties)** | 相机FOV (Camera FOV) | 阵列中所有相机的视野（Field of View）角度。 | 1° \- 170° |
| **渲染输出 (Render Output)** | 输出宽度/高度 (Output Width/Height) | 渲染输出图像的分辨率（像素）。 | 例如：1920x1080 |
|  | 格式 (Format) | 渲染图像的输出文件格式。 | PNG, JPEG, BMP, TGA, EXR |
|  | 输出路径 (Output Path) | 图像保存的文件夹路径，相对于项目的 Saved/ 目录。 | 默认: RenderOutput |
|  | 覆盖已有 (Overwrite Existing) | 如果勾选，渲染时将覆盖同名的现有文件。 | 布尔值 |
|  | 相机前缀 (Camera Prefix) | 输出文件的基础名称。系统会自动附加一个数字后缀（例如 MyRender\_01.png）。 | 例如：MyRender\_ |
| **朝向目标 (Look At Target)** | 启用LookAtTarget (Enable LookAtTarget) | 如果勾选，所有相机将自动旋转以朝向指定的目标Actor。 | 布尔值 |
|  | 场景目标点 (Scene Target) | 一个Actor引用。从世界大纲视图中将一个Actor拖拽到此处，以将其设为焦点。 | Actor 引用 |
| **高级渲染 (Advanced Rendering)** | 后处理引用 (Post Process Ref) | 对场景中一个后期处理体积的引用。**用于同步路径追踪的SPP采样数，是Path Tracing渲染的必要设置。** | PP Volume 引用 |
| **渲染状态 (Render Status)** | 渲染进度 (Render Progress) | 一个只读的进度条，显示批量渲染的当前状态。 | 仅显示 |
|  | 渲染状态 (Render Status) | 一个只读的文本字段，显示当前状态 | 仅显示 |

### 3\. 工作流程与操作

在细节面板的底部，您会找到一系列操作按钮，用于执行核心功能。

#### **执行函数 (Execute Functions)**

* **创建或更新相机 (Create or Update Cameras)**: 根据当前参数设置创建新的相机阵列，或更新现有阵列。  
* **清除相机 (Clear Cameras)**: 删除由该管理器创建的所有相机。  
* **选择第一个/最后一个相机 (Select First/Last Camera)**: 在编辑器中快速选中阵列的起始或末尾相机，便于检查。  
* **渲染第一个/最后一个相机 (Render First/Last Camera)**: 单独渲染并测试阵列的起始或末尾相机视图。

#### **批处理 (Batch Process)**

* **拍摄高清截图 (Batch Render High-Res Screenshots)**: 启动批量渲染流程，从阵列中的每一个相机捕获一张高分辨率截图。  
* **打开输出文件夹 (Open Output Folder)**: 直接在您的操作系统中打开保存渲染图像的文件夹。


> **⚠️ 重要提示：路径追踪渲染的必要条件**
>
> 为了获得真实的路径追踪渲染效果，您 **必须** 遵循以下步骤：
> 1. **设置视口模式**: 在您的主编辑器视口中，将“视图模式”（View Mode）从“光照”（Lit）更改为“路径追踪”（Path Tracing）。本插件的渲染结果严格依赖于当前激活视口的配置。  
> 2. **指定后期处理体积**: 将场景中的后期处理体积（Post Process Volume）拖拽到 CameraArrayManager 的 后处理引用 (Post Process Ref) 插槽中。  
> 3. **设置SPP采样数**: 在您的后期处理体积设置中，找到“路径追踪”（Path Tracing）分类，并设置“每像素采样数”（Samples Per Pixel）为您期望的质量等级。插件会使用此数值来决定每帧的渲染时长。更高的SPP值会带来更清晰的图像，但渲染时间也会相应增加。


## 🔍 技术规格

* **支持的Unreal Engine版本**: 5.3+  
* **支持的平台**: Windows, macOS  
* **支持的图像格式**: PNG (8-bit), JPEG (8-bit), BMP (8-bit), TGA (8-bit), EXR (16-bit Float)

## ✅ 最佳实践与注意事项

* **渲染时保持编辑器激活**: 为了让批量渲染流程正常工作，Unreal Editor必须是您电脑上的活动窗口。切换到其他应用程序可能会中断截图过程。  
* **保持稳定的编辑器状态**: 为获得可靠的渲染结果，请在批量渲染进行时避免修改场景、调整参数或与编辑器其他UI元素交互。插件已内置保护措施以防止大多数意外修改，但稳定的环境是成功渲染的关键。  
* **磁盘空间管理**: 渲染大量高分辨率图像会消耗可观的磁盘空间。在开始大型批量渲染前，请确保您的目标输出目录有足够的可用空间。  
* **性能考量**: 批量渲染是资源密集型操作。为获得最佳性能，建议在渲染时关闭其他占用大量GPU资源的应用程序。

## **🛠️ 支持**

**计划中的功能**
1. 高级阵列类型（如弧形、网格）
2. 使用Movie Render Queue 提供的自动化解决方案
3. 使用Render Target 渲染path tracing 的HDR 图片
4. 单相机参数覆盖

    ...


Bingru Li

2025-08-15
